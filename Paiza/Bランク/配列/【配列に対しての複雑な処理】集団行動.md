

## 学んだこと
メモリ管理、クエリ処理問題の入力、クエリ判定

## 問題内容
あなたは集団行動のリーダーです。次のような指示を出すことで様々な列の操作ができます。  
  
・`swap A B`  
先頭から A 番目の人と、先頭から B 番目の人の位置を入れ替える。  
・`reverse`  
列を逆順にする。  
・`resize C`  
先頭から C 人を列に残し、それ以外の人を全員列から離れさせる。ただし、列が既に C 人以下の場合、何も行わない。  
  
初め、列には番号 1 〜 N の N 人がおり、先頭から番号の昇順に並んでいます。(1, 2 , 3, ..., N)  
あなたの出した指示の回数 Q とその指示の内容 S_i (1 ≦ i ≦ Q) が順に与えられるので、全ての操作を順に行った後の列を出力してください。

## 自分の解答
```python
n,q = map(int,input().split())
s = [input().split() for _ in range(q)] # qが巨大化したときにメモリがもったいない

line = [j for j in range(1,n+1)]
for i in range(q):
    if s[i][0] == "swap": # クエリが少し指定しにくい
        a = int(s[i][1])
        b = int(s[i][2])
        line[a-1],line[b-1] = line[b-1],line[a-1]
    elif s[i][0] == "reverse":
        line.reverse()
    else:
        c = int(s[i][1])
        if c < len(line):
            del(line[c:])

for x in line:
    print(x)
```

## 模範解答
```python
# メモリ管理を考える
n, q = map(int, input().split())
students = list(range(1, n + 1))

for _ in range(q):
    s = input().split() # 各クエリごとに読み込んでいくとメモリを節約できる。
    　　　　　　　　　　　 # s[0]でクエリを参照できるようになり可読性も向上。
    
    if s[0] == "swap":
        a = int(s[1]) - 1
        b = int(s[2]) - 1
        tmp = students[a]
        students[a] = students[b]
        students[b] = tmp
    elif s[0] == "reverse":
        students.reverse()
    else:
        c = int(s[1])
        if len(students) > c:
            students = students[:c]

for student in students:
    print(student)
```